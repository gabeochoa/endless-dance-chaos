# Test agent spawning and movement toward stage
reset_game
set_spawn_enabled 0
set_agent_speed 5
wait_frames 2

# Draw a path from gate area to stage
draw_path_rect 5 24 33 28
wait_frames 2

# Spawn 5 agents OUTSIDE stage watch radius (radius=8 from center ~32,27)
# Position (10,25) is ~22 tiles from stage center, well outside watch zone
spawn_agents 10 25 5 stage
wait_frames 2

# Wait for agents to walk toward stage area at 2.5 t/s effective (0.5 * 5x)
# Agents target the closest non-crowded StageFloor tile, which may be on the
# near edge of the ring (~14 tiles from spawn, plus some pathing overhead)
wait 15

# At least one agent should be near the stage area (radius includes edge
# of the StageFloor ring where closest-tile agents may cluster)
assert_agent_near 32 27 12
screenshot 03_agents_near_stage
