# Test path drawing via E2E commands
reset_game
wait_frames 2

# Draw a path rectangle via direct command
draw_path_rect 10 10 15 15
wait_frames 2
assert_tile_type 12 12 path
assert_tile_type 10 10 path
assert_tile_type 9 9 grass
screenshot 02_path_drawn

# Remove a tile
set_tile 12 12 grass
wait_frames 2
assert_tile_type 12 12 grass
screenshot 02_path_removed

# Clear for mouse click test
reset_game
wait_frames 2

# Select path tool before clicking (build tool may not default to path)
select_tool path
wait_frames 2

# Test mouse clicking: use area far from facilities (40,40)
click_grid 40 40
wait_frames 3
click_grid 42 42
wait_frames 3

# Verify the rectangle was filled with path
assert_tile_type 40 40 path
assert_tile_type 41 41 path
assert_tile_type 42 42 path
# Outside the rectangle should still be grass
assert_tile_type 39 39 grass
assert_tile_type 43 43 grass
screenshot 02_mouse_path_drawn
